{"parents": [{"link": "../../", "title": "Plugins"}, {"link": "../", "title": "Using Plugins"}], "prev": {"link": "../importers/", "title": "File Importers"}, "next": {"link": "../taggers/", "title": "Taggers"}, "title": "Blockifiers", "meta": null, "body": "<section id=\"blockifiers\">\n<span id=\"id1\"></span><h1>Blockifiers<a class=\"headerlink\" href=\"#blockifiers\" title=\"Permalink to this heading\">#</a></h1>\n<p>Blockifiers convert data into Steamship\u2019s native <a class=\"reference internal\" href=\"../../../data/#data-model\"><span class=\"std std-ref\">Block format</span></a>.</p>\n<ul class=\"simple\">\n<li><p><strong>A Blockifier\u2019s input</strong> is raw bytes. Examples include a PDF, image,\naudio, HTML, CSV, JSON-formatted API output, or so on.</p></li>\n<li><p><strong>A Blockifier\u2019s output</strong> is an object in <a class=\"reference internal\" href=\"../../../data/#data-model\"><span class=\"std std-ref\">Steamship Block format</span></a>.</p></li>\n</ul>\n<p>All data imported into Steamship must be first blockified before it can be used.</p>\n<p>You can use blockifiers when developing Steamship <a class=\"reference internal\" href=\"../../../packages/#packages\"><span class=\"std std-ref\">Packages</span></a>, in your own Python app code,\nor as one-off functions that convert data in the cloud.</p>\n<section id=\"using-blockifiers\">\n<h2>Using Blockifiers<a class=\"headerlink\" href=\"#using-blockifiers\" title=\"Permalink to this heading\">#</a></h2>\n<p>To use a blockifier, create an instance with your Steamship client and apply it to a file.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Load a Steamship Workspace</span>\n<span class=\"kn\">from</span> <span class=\"nn\">steamship</span> <span class=\"kn\">import</span> <span class=\"n\">Steamship</span><span class=\"p\">,</span> <span class=\"n\">File</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">Steamship</span><span class=\"p\">(</span><span class=\"n\">workspace</span><span class=\"o\">=</span><span class=\"s2\">&quot;my-workspace-handle&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Upload a file</span>\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"n\">File</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"o\">=</span><span class=\"s2\">&quot;path/to/some_file&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">data</span>\n\n<span class=\"c1\"># Create the blockifier instance</span>\n<span class=\"n\">blockifier</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">use_plugin</span><span class=\"p\">(</span><span class=\"s1\">&#39;blockifier-handle&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;instance-handle&#39;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Apply the blockifier to the file</span>\n<span class=\"n\">task</span> <span class=\"o\">=</span> <span class=\"n\">file</span><span class=\"o\">.</span><span class=\"n\">blockify</span><span class=\"p\">(</span><span class=\"n\">blockifier</span><span class=\"o\">.</span><span class=\"n\">handle</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Wait until the blockify task completes remotely</span>\n<span class=\"n\">task</span><span class=\"o\">.</span><span class=\"n\">wait</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Refresh the file to see the output</span>\n<span class=\"n\">file</span><span class=\"o\">.</span><span class=\"n\">refresh</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># file.blocks now has the blockified content</span>\n</pre></div>\n</div>\n<p>In the above code, the two key lines are:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">blockifier</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">use_plugin</span><span class=\"p\">(</span><span class=\"s1\">&#39;blockifier-handle&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">task</span> <span class=\"o\">=</span> <span class=\"n\">file</span><span class=\"o\">.</span><span class=\"n\">blockify</span><span class=\"p\">(</span><span class=\"n\">blockifier</span><span class=\"o\">.</span><span class=\"n\">handle</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>In these lines, <code class=\"docutils literal notranslate\"><span class=\"pre\">blockifier-handle</span></code> identifies which blockifier you would like to use, and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">instance-handle</span></code> identifies your particular instance of this blockifier in a workspace.\nThe same instance is reused, rather than created, if you load it like this again.</p>\n<section id=\"common-blockifiers\">\n<h3>Common Blockifiers<a class=\"headerlink\" href=\"#common-blockifiers\" title=\"Permalink to this heading\">#</a></h3>\n<p>Steamship maintains a growing collection of official blockifiers for common scenarios.\nOur goal is to always map our defaults to best of breed models so that you can get work done quickly without worrying\nabout the details of model selection and tuning.</p>\n<p>Our currently supported blockifiers are:</p>\n<ul class=\"simple\">\n<li><p><a class=\"reference external\" href=\"https://www.steamship.com/plugins/markdown-blockifier-default\">markdown-default</a> - Converts Markdown to Steamship Blocks</p></li>\n<li><p><a class=\"reference external\" href=\"https://www.steamship.com/plugins/s2t-blockifier-default\">speech-to-text-default</a> - Converts audio to Steamship Blocks</p></li>\n<li><p><a class=\"reference external\" href=\"https://www.steamship.com/plugins/whisper-s2t-blockifier\">whisper-s2t-blockifier</a> - Converts audio to Steamship Blocks (via <a class=\"reference external\" href=\"https://openai.com/blog/whisper/\">Whisper</a>)</p></li>\n<li><p><a class=\"reference external\" href=\"https://www.steamship.com/plugins/wikipedia-blockifier\">wikipedia-blockifier</a> - Converts Wikipedia pages to Steamship Blocks</p></li>\n<li><p><a class=\"reference external\" href=\"https://www.steamship.com/plugins/csv-blockifier\">csv-blockifier</a> - Converts CSV to Steamship Blocks</p></li>\n</ul>\n</section>\n</section>\n<section id=\"input\">\n<h2>Input<a class=\"headerlink\" href=\"#input\" title=\"Permalink to this heading\">#</a></h2>\n<p>The input to a <code class=\"docutils literal notranslate\"><span class=\"pre\">blockify</span></code> operation is a <code class=\"docutils literal notranslate\"><span class=\"pre\">File</span></code> with no <code class=\"docutils literal notranslate\"><span class=\"pre\">Blocks</span></code>.</p>\n</section>\n<section id=\"output\">\n<h2>Output<a class=\"headerlink\" href=\"#output\" title=\"Permalink to this heading\">#</a></h2>\n<p>When you call <code class=\"docutils literal notranslate\"><span class=\"pre\">blockify</span></code> on a file, the object that is returned is a <code class=\"docutils literal notranslate\"><span class=\"pre\">Task</span></code>. You can <code class=\"docutils literal notranslate\"><span class=\"pre\">wait()</span></code> on\nthis task, or continue on to do other work.\nThe output of a <code class=\"docutils literal notranslate\"><span class=\"pre\">blockify</span></code> operation is <a class=\"reference internal\" href=\"../../../data/blocks/#blocks\"><span class=\"std std-ref\">Blocks</span></a> and potentially <a class=\"reference internal\" href=\"../../../data/tags/#tags\"><span class=\"std std-ref\">Tags</span></a> on that file. However, since the operation happens asynchronously on the back-end, you will\nneed to <code class=\"docutils literal notranslate\"><span class=\"pre\">refresh()</span></code> the file to see the output.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.17.1: http://docutils.sourceforge.net/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["plugins/using/taggers/index", "Taggers", "N", "next"], ["plugins/using/importers/index", "File Importers", "P", "previous"]], "sourcename": "plugins/using/blockifiers/index.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Blockifiers</a><ul>\n<li><a class=\"reference internal\" href=\"#using-blockifiers\">Using Blockifiers</a><ul>\n<li><a class=\"reference internal\" href=\"#common-blockifiers\">Common Blockifiers</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#input\">Input</a></li>\n<li><a class=\"reference internal\" href=\"#output\">Output</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "plugins/using/blockifiers/index", "sidebars": ["sidebar/brand.html", "sidebar/search.html", "sidebar/scroll-start.html", "sidebar/navigation.html", "sidebar/ethical-ads.html", "sidebar/scroll-end.html", "sidebar/variant-selector.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.12", "furo_version": "2023.03.27", "furo_navigation_tree": "", "furo_hide_toc": false, "furo_pygments": {"light": {"background": "#f8f8f8", "foreground": "black"}, "dark": {"background": "#272822", "foreground": "#f8f8f2"}}}