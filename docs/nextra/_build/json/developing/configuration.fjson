{"parents": [{"link": "../", "title": "Developing Packages and Plugins"}], "prev": {"link": "../environment-setup/", "title": "Environment Setup"}, "next": {"link": "../storing-secrets/", "title": "Storing Secrets"}, "title": "Accepting Configuration", "meta": null, "body": "<section id=\"accepting-configuration\">\n<h1>Accepting Configuration<a class=\"headerlink\" href=\"#accepting-configuration\" title=\"Permalink to this heading\">#</a></h1>\n<p>Your package or plugin may need to accept configuration to be usable.\nExamples might include:</p>\n<ul class=\"simple\">\n<li><p>An API key to invoke a third-party service</p></li>\n<li><p>A parameter setting, such as a threshold or output class</p></li>\n</ul>\n<p>A configuration parameter has:\n-  <code class=\"docutils literal notranslate\"><span class=\"pre\">type</span></code> - Either <code class=\"docutils literal notranslate\"><span class=\"pre\">boolean</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">string</span></code>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">number</span></code>.\n-  <code class=\"docutils literal notranslate\"><span class=\"pre\">description</span></code> - A short description of the parameter.\n-  <code class=\"docutils literal notranslate\"><span class=\"pre\">default</span></code> - A default value if the user does not provide one.</p>\n<p>If a parameter does not have a default value, and a Steamship user tries\nto create a new instance without specifying it, that instance creation\nwill fail. Similarly, provided values with incorrect types will be rejected. This\nmeans that your package or plugin is guaranteed to receive a config that structurally matches.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>There is currently no such thing as an optional configuration parameter. All parameters that do\nnot have a default value must have a value provided by the user at Package instantiation.</p>\n</div>\n<section id=\"defining-and-accepting-configuration-in-your-code\">\n<span id=\"id1\"></span><h2>Defining and Accepting configuration in your code<a class=\"headerlink\" href=\"#defining-and-accepting-configuration-in-your-code\" title=\"Permalink to this heading\">#</a></h2>\n<p>To define the configuration for your Package, create a class that inherits from Config:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span> <span class=\"nc\">MyPackageConfig</span><span class=\"p\">(</span><span class=\"n\">Config</span><span class=\"p\">):</span>\n     <span class=\"n\">my_string_config_param</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"n\">Field</span><span class=\"p\">(</span><span class=\"s2\">&quot;my-default-value&quot;</span><span class=\"p\">,</span>\n                                 <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;A param this package needs which is a string.&quot;</span><span class=\"p\">)</span>\n     <span class=\"n\">my_numeric_config_param</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"n\">Field</span><span class=\"p\">(</span><span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;A numeric param this package needs.&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>and then return this class from your package or plugin\u2019s <code class=\"docutils literal notranslate\"><span class=\"pre\">config_cls</span></code> class method:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span> <span class=\"nc\">MyPackageClass</span><span class=\"p\">(</span><span class=\"n\">PackageService</span><span class=\"p\">):</span>\n    <span class=\"n\">config</span><span class=\"p\">:</span> <span class=\"n\">MyPackageConfig</span>\n\n    <span class=\"nd\">@classmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">config_cls</span><span class=\"p\">(</span><span class=\"bp\">cls</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Type</span><span class=\"p\">[</span><span class=\"n\">Config</span><span class=\"p\">]:</span>\n         <span class=\"k\">return</span> <span class=\"n\">MyPackageConfig</span>\n</pre></div>\n</div>\n<p>This will guarantee that <code class=\"docutils literal notranslate\"><span class=\"pre\">my_string_config_param</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">my_numeric_config_param</span></code> are set for all invocations\nof your package or plugin.  Since <code class=\"docutils literal notranslate\"><span class=\"pre\">my_strong_config_param</span></code> provides a default value, the user can omit it\nfrom their configuration and the value <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;my-default-value&quot;</span></code> will be used.  Since <code class=\"docutils literal notranslate\"><span class=\"pre\">my_numeric_config_param</span></code>\ndoes not have a default value, a user <em>must</em> supply a value to create an instance of your package or plugin.</p>\n<p>To use the config values within your code, you can then refer to them from <code class=\"docutils literal notranslate\"><span class=\"pre\">self.config</span></code>,\nas in <code class=\"docutils literal notranslate\"><span class=\"pre\">self.config.my_numeric_config_param</span></code>.  They will be automatically populated with the user\u2019s\ndata by Steamship when invoking your package or plugin.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.17.1: http://docutils.sourceforge.net/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["developing/storing-secrets", "Storing Secrets", "N", "next"], ["developing/environment-setup", "Environment Setup", "P", "previous"]], "sourcename": "developing/configuration.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Accepting Configuration</a><ul>\n<li><a class=\"reference internal\" href=\"#defining-and-accepting-configuration-in-your-code\">Defining and Accepting configuration in your code</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "developing/configuration", "sidebars": ["sidebar/brand.html", "sidebar/search.html", "sidebar/scroll-start.html", "sidebar/navigation.html", "sidebar/ethical-ads.html", "sidebar/scroll-end.html", "sidebar/variant-selector.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.12", "furo_version": "2023.03.27", "furo_navigation_tree": "", "furo_hide_toc": false, "furo_pygments": {"light": {"background": "#f8f8f8", "foreground": "black"}, "dark": {"background": "#272822", "foreground": "#f8f8f2"}}}